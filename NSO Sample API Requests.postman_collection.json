{
	"info": {
		"_postman_id": "08fc1cbe-f8f2-42dd-b87a-224211707d1b",
		"name": "NSO Sample API Requests",
		"description": "using https://github.com/NSO-developer/nso-vagrant\n",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "NSO Device Manager",
			"item": [
				{
					"name": "Adding / Removing a Device",
					"item": [
						{
							"name": "Step 0. Create a Device in the CDB",
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Accept",
										"type": "text",
										"value": "application/yang-data+json"
									},
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/yang-data+xml"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "\n<!--\nSample CLI to do the same thing\ndevices device ios0 authgroup default port 10022 device-type cli ned-id cisco-ios-cli-6.42\nstate admin-state unlocked\n-->\n\n\n<device>\n <name>ios0</name>\n <address>127.0.0.1</address>\n <port>10022</port>\n <authgroup>default</authgroup>\n <device-type>\n   <cli>\n     <ned-id xmlns:cisco-ios-cli-6.42=\"http://tail-f.com/ns/ned-id/cisco-ios-cli-6.42\">cisco-ios-cli-6.42:cisco-ios-cli-6.42</ned-id>\n   </cli>\n </device-type>\n <state>\n   <admin-state>unlocked</admin-state>\n </state>\n</device>\n      "
								},
								"url": {
									"raw": "http://{{NSO_IP}}:{{NSO_HTTP_PORT}}/restconf/data/tailf-ncs:devices",
									"protocol": "http",
									"host": [
										"{{NSO_IP}}"
									],
									"port": "{{NSO_HTTP_PORT}}",
									"path": [
										"restconf",
										"data",
										"tailf-ncs:devices"
									]
								},
								"description": "Update the Payload with correct info. Sample XML can be used from Get on existing device or using commit dry run on CLI. Device names, NED-ID, Address and Ports will likely be different depending on your environment."
							},
							"response": []
						},
						{
							"name": "Step 1. SSH Fetch-Host-Keys Device",
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Accept",
										"type": "text",
										"value": "application/yang-data+json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": {
									"raw": "http://{{NSO_IP}}:{{NSO_HTTP_PORT}}/restconf/data/tailf-ncs:devices/device={{sample_ios_device}}/ssh/fetch-host-keys",
									"protocol": "http",
									"host": [
										"{{NSO_IP}}"
									],
									"port": "{{NSO_HTTP_PORT}}",
									"path": [
										"restconf",
										"data",
										"tailf-ncs:devices",
										"device={{sample_ios_device}}",
										"ssh",
										"fetch-host-keys"
									]
								}
							},
							"response": []
						},
						{
							"name": "Step 2. Sync-from Device",
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Accept",
										"type": "text",
										"value": "application/yang-data+json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": {
									"raw": "http://{{NSO_IP}}:{{NSO_HTTP_PORT}}/restconf/data/tailf-ncs:devices/device=netsim-ios-0/sync-from",
									"protocol": "http",
									"host": [
										"{{NSO_IP}}"
									],
									"port": "{{NSO_HTTP_PORT}}",
									"path": [
										"restconf",
										"data",
										"tailf-ncs:devices",
										"device=netsim-ios-0",
										"sync-from"
									]
								}
							},
							"response": []
						},
						{
							"name": "Delete a device from CDB Device List",
							"request": {
								"method": "DELETE",
								"header": [
									{
										"key": "Accept",
										"value": "application/yang-data+json",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": {
									"raw": "http://{{NSO_IP}}:{{NSO_HTTP_PORT}}/restconf/data/tailf-ncs:devices/device={{sample_ios_device}}",
									"protocol": "http",
									"host": [
										"{{NSO_IP}}"
									],
									"port": "{{NSO_HTTP_PORT}}",
									"path": [
										"restconf",
										"data",
										"tailf-ncs:devices",
										"device={{sample_ios_device}}"
									]
								}
							},
							"response": []
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "View Device Config",
					"item": [
						{
							"name": "All Devices in Device List: Show Running-config Devices Device",
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Accept",
										"type": "text",
										"value": "application/yang-data+json"
									}
								],
								"url": {
									"raw": "http://{{NSO_IP}}:{{NSO_HTTP_PORT}}/restconf/data/tailf-ncs:devices/device",
									"protocol": "http",
									"host": [
										"{{NSO_IP}}"
									],
									"port": "{{NSO_HTTP_PORT}}",
									"path": [
										"restconf",
										"data",
										"tailf-ncs:devices",
										"device"
									]
								},
								"description": "Note: This can be a very large payload, since it is sending the parsed running config of every single device in the device list, and the NSO application configuration."
							},
							"response": []
						},
						{
							"name": "Single Device Config - Show devices device DEVICENAME",
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Accept",
										"type": "text",
										"value": "application/yang-data+json"
									}
								],
								"url": {
									"raw": "http://{{NSO_IP}}:{{NSO_HTTP_PORT}}/restconf/data/tailf-ncs:devices/device={{sample_ios_device}}",
									"protocol": "http",
									"host": [
										"{{NSO_IP}}"
									],
									"port": "{{NSO_HTTP_PORT}}",
									"path": [
										"restconf",
										"data",
										"tailf-ncs:devices",
										"device={{sample_ios_device}}"
									]
								}
							},
							"response": []
						},
						{
							"name": "Single Device HW / SW Platform Info",
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Accept",
										"type": "text",
										"value": "application/yang-data+json"
									}
								],
								"url": {
									"raw": "http://{{NSO_IP}}:{{NSO_HTTP_PORT}}/restconf/data/tailf-ncs:devices/device={{sample_ios_device}}/platform",
									"protocol": "http",
									"host": [
										"{{NSO_IP}}"
									],
									"port": "{{NSO_HTTP_PORT}}",
									"path": [
										"restconf",
										"data",
										"tailf-ncs:devices",
										"device={{sample_ios_device}}",
										"platform"
									]
								}
							},
							"response": []
						},
						{
							"name": "show interfaces",
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Accept",
										"value": "application/yang-data+json",
										"type": "text"
									}
								],
								"url": {
									"raw": "http://{{NSO_IP}}:{{NSO_HTTP_PORT}}/restconf/data/tailf-ncs:devices/device={{sample_ios_device}}/config/tailf-ned-cisco-ios:interface/",
									"protocol": "http",
									"host": [
										"{{NSO_IP}}"
									],
									"port": "{{NSO_HTTP_PORT}}",
									"path": [
										"restconf",
										"data",
										"tailf-ncs:devices",
										"device={{sample_ios_device}}",
										"config",
										"tailf-ned-cisco-ios:interface",
										""
									]
								}
							},
							"response": []
						},
						{
							"name": "show interface eth 0/0",
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Accept",
										"value": "application/yang-data+json",
										"type": "text"
									}
								],
								"url": {
									"raw": "http://{{NSO_IP}}:{{NSO_HTTP_PORT}}/restconf/data/tailf-ncs:devices/device={{sample_ios_device}}/config/tailf-ned-cisco-ios:interface/FastEthernet=0%2F0",
									"protocol": "http",
									"host": [
										"{{NSO_IP}}"
									],
									"port": "{{NSO_HTTP_PORT}}",
									"path": [
										"restconf",
										"data",
										"tailf-ncs:devices",
										"device={{sample_ios_device}}",
										"config",
										"tailf-ned-cisco-ios:interface",
										"FastEthernet=0%2F0"
									]
								}
							},
							"response": []
						}
					],
					"description": "If device config is very nested, you can use the depth=X parameter to see additional hidden layers of nesting.",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "5e956a51-2fab-45e7-b280-3d6cb66419fe",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "607d7f46-c650-440d-8e73-d0d4a1af5be0",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "Device Config Management",
					"item": [
						{
							"name": "add ip address to interface",
							"request": {
								"method": "PATCH",
								"header": [
									{
										"key": "Accept",
										"type": "text",
										"value": "application/yang-data+json"
									},
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"value": "application/yang-data+xml",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "\n                       <ip>\n                         <address>\n                           <primary>\n                             <address>10.0.0.5</address>\n                             <mask>255.255.255.255</mask>\n                           </primary>\n                         </address>\n                       </ip>\n"
								},
								"url": {
									"raw": "http://{{NSO_IP}}:{{NSO_HTTP_PORT}}/restconf/data/tailf-ncs:devices/device={{sample_ios_device}}/config/tailf-ned-cisco-ios:interface/FastEthernet=0%2F0/ip",
									"protocol": "http",
									"host": [
										"{{NSO_IP}}"
									],
									"port": "{{NSO_HTTP_PORT}}",
									"path": [
										"restconf",
										"data",
										"tailf-ncs:devices",
										"device={{sample_ios_device}}",
										"config",
										"tailf-ned-cisco-ios:interface",
										"FastEthernet=0%2F0",
										"ip"
									]
								}
							},
							"response": []
						},
						{
							"name": "Remove SNMP Community String from Device",
							"request": {
								"method": "DELETE",
								"header": [
									{
										"key": "Accept",
										"type": "text",
										"value": "application/yang-data+json"
									},
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/yang-data+xml"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "                   <snmp-server xmlns=\"urn:tailf-ned-cisco-ios\">\n                     <community xmlns:nc=\"urn:ietf:params:xml:ns:netconf:base:1.0\"\n                                nc:operation=\"delete\">\n                       <name>NSO-STRING</name>\n                     </community>\n"
								},
								"url": {
									"raw": "http://{{NSO_IP}}:{{NSO_HTTP_PORT}}/restconf/data/tailf-ncs:devices/device={{sample_ios_device}}/config/tailf-ned-cisco-ios:snmp-server?dry-run=native",
									"protocol": "http",
									"host": [
										"{{NSO_IP}}"
									],
									"port": "{{NSO_HTTP_PORT}}",
									"path": [
										"restconf",
										"data",
										"tailf-ncs:devices",
										"device={{sample_ios_device}}",
										"config",
										"tailf-ned-cisco-ios:snmp-server"
									],
									"query": [
										{
											"key": "dry-run",
											"value": "native"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Add SNMP Community String",
							"request": {
								"method": "PATCH",
								"header": [
									{
										"key": "Accept",
										"type": "text",
										"value": "application/yang-data+json"
									},
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"value": "application/yang-data+xml",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "                 <config>\n                   <snmp-server xmlns=\"urn:ios\">\n                     <community>\n                       <name>NSO-STRING</name>\n                       <RW/>\n                     </community>\n                   </snmp-server>\n                 </config>"
								},
								"url": {
									"raw": "http://{{NSO_IP}}:{{NSO_HTTP_PORT}}/restconf/data/tailf-ncs:devices/device={{sample_ios_device}}/config/?",
									"protocol": "http",
									"host": [
										"{{NSO_IP}}"
									],
									"port": "{{NSO_HTTP_PORT}}",
									"path": [
										"restconf",
										"data",
										"tailf-ncs:devices",
										"device={{sample_ios_device}}",
										"config",
										""
									],
									"query": [
										{
											"key": "dry-run",
											"value": "native",
											"disabled": true
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Remove IP Address From Interface",
							"request": {
								"method": "DELETE",
								"header": [
									{
										"key": "Accept",
										"type": "text",
										"value": "application/yang-data+json"
									},
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/yang-data+xml"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "\n                       <ip>\n                         <address>\n                           <primary>\n                             <address>10.0.0.5</address>\n                             <mask>255.255.255.255</mask>\n                           </primary>\n                         </address>\n                       </ip>\n"
								},
								"url": {
									"raw": "http://{{NSO_IP}}:{{NSO_HTTP_PORT}}/restconf/data/tailf-ncs:devices/device={{sample_ios_device}}/config/tailf-ned-cisco-ios:interface/FastEthernet=0%2F0/ip/address?",
									"protocol": "http",
									"host": [
										"{{NSO_IP}}"
									],
									"port": "{{NSO_HTTP_PORT}}",
									"path": [
										"restconf",
										"data",
										"tailf-ncs:devices",
										"device={{sample_ios_device}}",
										"config",
										"tailf-ned-cisco-ios:interface",
										"FastEthernet=0%2F0",
										"ip",
										"address"
									],
									"query": [
										{
											"key": "dry-run",
											"value": "native",
											"disabled": true
										}
									]
								}
							},
							"response": []
						}
					],
					"description": "Any element of configuration modeled in NSO can be configured over the API. The ones given here are just samples. NSO will translate it to the correct commands and can rollback if needed. \n\nSince NSO exposes its functionality adhering to the IETF RESTCONF Standard, you can also refer to that documentation for more detail regarding the operations:\nhttps://tools.ietf.org/html/rfc8040\n\nFor example, if you PATCH a configuration, it will merge in existing configuration, but if you PUT it, it will replace everything in that hierarchy URI path with the body given. ",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "6db51f82-10a0-404d-a4f3-ad0e5d42624c",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "16569755-e4fd-48e2-b5cf-cd16831246d2",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "Commit Dry-Run and Rollbacks",
					"item": [
						{
							"name": "Commit Dry-run outformat native",
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "Accept",
										"type": "text",
										"value": "application/yang-data+json"
									},
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"value": "application/yang-data+xml",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "\n                       <ip>\n                         <address>\n                           <primary>\n                             <address>10.0.2.5</address>\n                             <mask>255.255.255.252</mask>\n                           </primary>\n                         </address>\n                       </ip>\n"
								},
								"url": {
									"raw": "http://{{NSO_IP}}:{{NSO_HTTP_PORT}}/restconf/data/tailf-ncs:devices/device={{sample_ios_device}}/config/tailf-ned-cisco-ios:interface/FastEthernet=0%2F0/ip?dry-run=native",
									"protocol": "http",
									"host": [
										"{{NSO_IP}}"
									],
									"port": "{{NSO_HTTP_PORT}}",
									"path": [
										"restconf",
										"data",
										"tailf-ncs:devices",
										"device={{sample_ios_device}}",
										"config",
										"tailf-ned-cisco-ios:interface",
										"FastEthernet=0%2F0",
										"ip"
									],
									"query": [
										{
											"key": "dry-run",
											"value": "native"
										}
									]
								},
								"description": "This is using an example for an IOS interface, with the configuration in the payload, but could be any config. The key thing is having the query params ?dry-run=native so NSO knows to not commit it and to respond back with the dry-run data in CLI format."
							},
							"response": []
						},
						{
							"name": "Dry Run Rollback: Getting back to current state if commit success",
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "Accept",
										"type": "text",
										"value": "application/yang-data+json"
									},
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"value": "application/yang-data+xml",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "\n                       <ip>\n                         <address>\n                           <primary>\n                             <address>10.0.2.5</address>\n                             <mask>255.255.255.252</mask>\n                           </primary>\n                         </address>\n                       </ip>\n"
								},
								"url": {
									"raw": "http://{{NSO_IP}}:{{NSO_HTTP_PORT}}/restconf/data/tailf-ncs:devices/device={{sample_ios_device}}/config/tailf-ned-cisco-ios:interface/FastEthernet=0%2F0/ip?dry-run-reverse=native&dry-run=native",
									"protocol": "http",
									"host": [
										"{{NSO_IP}}"
									],
									"port": "{{NSO_HTTP_PORT}}",
									"path": [
										"restconf",
										"data",
										"tailf-ncs:devices",
										"device={{sample_ios_device}}",
										"config",
										"tailf-ned-cisco-ios:interface",
										"FastEthernet=0%2F0",
										"ip"
									],
									"query": [
										{
											"key": "dry-run-reverse",
											"value": "native"
										},
										{
											"key": "dry-run",
											"value": "native"
										}
									]
								},
								"description": "This API example uses the following params:\n?dry-run-reverse=native&dry-run=native\nwhich tells NSO not to make a commit, by doing a dry-run, and give the response in the payload return with native CLI syntax. \nIt will calculate behind the scenes based on the payload sent to NSO what it would take to roll that particular payload back, if the commit was succesful. Basically like a dry-run rollback."
							},
							"response": []
						},
						{
							"name": "Commit-Dry Run Remove IP address from interface",
							"request": {
								"method": "DELETE",
								"header": [
									{
										"key": "Accept",
										"type": "text",
										"value": "application/yang-data+json"
									},
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/yang-data+xml"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "\n"
								},
								"url": {
									"raw": "http://{{NSO_IP}}:{{NSO_HTTP_PORT}}/restconf/data/tailf-ncs:devices/device={{sample_ios_device}}/config/tailf-ned-cisco-ios:interface/FastEthernet=0%2F0/ip?dry-run=native",
									"protocol": "http",
									"host": [
										"{{NSO_IP}}"
									],
									"port": "{{NSO_HTTP_PORT}}",
									"path": [
										"restconf",
										"data",
										"tailf-ncs:devices",
										"device={{sample_ios_device}}",
										"config",
										"tailf-ned-cisco-ios:interface",
										"FastEthernet=0%2F0",
										"ip"
									],
									"query": [
										{
											"key": "dry-run",
											"value": "native"
										}
									]
								}
							},
							"response": []
						}
					],
					"description": "Commit dry-run is NSO not making any change to the device, but telling you what the proposed change will be based on what is already existing on the device, calculating the difference. Rollbacks are when NSO calculates the minimum number of commands to return it to the previous state of configuration before the NSO commit transaction. ",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "6db51f82-10a0-404d-a4f3-ad0e5d42624c",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "16569755-e4fd-48e2-b5cf-cd16831246d2",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "Device Config Templates",
					"item": [
						{
							"name": "1. Create a DNS Server Configuration Template",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "30f4a864-3944-47df-82c9-f282530deeac",
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(204);",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "{{password}}",
											"type": "string"
										},
										{
											"key": "username",
											"value": "{{username}}",
											"type": "string"
										}
									]
								},
								"method": "PATCH",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/yang-data+xml"
									},
									{
										"key": "Authorization",
										"value": "Basic YWRtaW46YWRtaW4=",
										"warning": "This is a duplicate header and will be overridden by the Authorization header generated by Postman."
									},
									{
										"key": "Accept",
										"value": "application/yang-data+xml"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "<!-- \ndevices template Standard_DNS_Servers\nned-id cisco-ios-cli-6.42\nconfi\nip name-server name-server-list 8.8.8.8\nexit\nexit\nexit\nned-id cisco-nx-cli-5.13 config\nip name-server servers 8.8.8.8\n-->\n\n<devices xmlns=\"http://tail-f.com/ns/ncs\">\n               <template>\n                 <name>Standard_DNS_Servers</name>\n                 <ned-id>\n                   <id xmlns:cisco-nx-cli-5.13=\"http://tail-f.com/ns/ned-id/cisco-nx-cli-5.13\">cisco-nx-cli-5.13:cisco-nx-cli-5.13</id>\n                   <config>\n                     <ip xmlns=\"http://tail-f.com/ned/cisco-nx\">\n                       <name-server>\n                         <servers>8.8.8.8</servers>\n                       </name-server>\n                     </ip>\n                   </config>\n                 </ned-id>\n                 <ned-id>\n                   <id xmlns:cisco-ios-cli-6.42=\"http://tail-f.com/ns/ned-id/cisco-ios-cli-6.42\">cisco-ios-cli-6.42:cisco-ios-cli-6.42</id>\n                   <config>\n                     <ip xmlns=\"urn:ios\">\n                       <name-server>\n                         <name-server-list>\n                           <address>8.8.8.8</address>\n                         </name-server-list>\n                       </name-server>\n                     </ip>\n                   </config>\n                 </ned-id>\n               </template>\n             </devices>"
								},
								"url": {
									"raw": "http://{{NSO_IP}}:{{NSO_HTTP_PORT}}/restconf/data/tailf-ncs:devices/",
									"protocol": "http",
									"host": [
										"{{NSO_IP}}"
									],
									"port": "{{NSO_HTTP_PORT}}",
									"path": [
										"restconf",
										"data",
										"tailf-ncs:devices",
										""
									]
								}
							},
							"response": []
						},
						{
							"name": "2. Apply DNS Server Device Template",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "5f01e81e-d941-483c-9b33-8945f4ff455e",
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "{{password}}",
											"type": "string"
										},
										{
											"key": "username",
											"value": "{{username}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/yang-data+xml"
									},
									{
										"warning": "This is a duplicate header and will be overridden by the Authorization header generated by Postman.",
										"key": "Authorization",
										"value": "Basic YWRtaW46YWRtaW4="
									},
									{
										"key": "Accept",
										"value": "application/yang-data+xml"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "<!--\ncli for same config\nconf\ndevices device ios0 apply-template template-name Standard_DNS_Servers\n-->\n\n<input>\n\t<template-name>Standard_DNS_Servers</template-name>\n</input>\n\n"
								},
								"url": {
									"raw": "http://{{NSO_IP}}:{{NSO_HTTP_PORT}}/restconf/data/tailf-ncs:devices/device={{sample_ios_device}}/apply-template/",
									"protocol": "http",
									"host": [
										"{{NSO_IP}}"
									],
									"port": "{{NSO_HTTP_PORT}}",
									"path": [
										"restconf",
										"data",
										"tailf-ncs:devices",
										"device={{sample_ios_device}}",
										"apply-template",
										""
									]
								}
							},
							"response": []
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "Config Compliance Reporting",
					"item": [
						{
							"name": "Configure DNS Server Compliance Report",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "30f4a864-3944-47df-82c9-f282530deeac",
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(204);",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "{{password}}",
											"type": "string"
										},
										{
											"key": "username",
											"value": "{{username}}",
											"type": "string"
										}
									]
								},
								"method": "PATCH",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/yang-data+xml"
									},
									{
										"warning": "This is a duplicate header and will be overridden by the Authorization header generated by Postman.",
										"key": "Authorization",
										"value": "Basic YWRtaW46YWRtaW4="
									},
									{
										"key": "Accept",
										"value": "application/yang-data+json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "<compliance xmlns=\"http://tail-f.com/ns/ncs\">\n               <reports>\n                 <report>\n                   <name>DNS_Servers_Configured</name>\n                   <compare-template>\n                     <template-name>Standard_DNS_Servers</template-name>\n                     <device-group>parent-group-all-devices</device-group>\n                   </compare-template>\n                 </report>\n               </reports>\n             </compliance>"
								},
								"url": {
									"raw": "http://{{NSO_IP}}:{{NSO_HTTP_PORT}}/restconf/data/tailf-ncs:compliance",
									"protocol": "http",
									"host": [
										"{{NSO_IP}}"
									],
									"port": "{{NSO_HTTP_PORT}}",
									"path": [
										"restconf",
										"data",
										"tailf-ncs:compliance"
									]
								},
								"description": "This compliance report uses the device config template Standard_DNS_Servers to see if the device has a DNS server of 8.8.8.8, only for IOS devices. If non-IOS devices are applied, they are ignored. "
							},
							"response": []
						},
						{
							"name": "Run Compliance Report",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "6bc9626b-14ae-44d1-98ec-909f57ee19b4",
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "{{password}}",
											"type": "string"
										},
										{
											"key": "username",
											"value": "{{username}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/yang-data+xml"
									},
									{
										"warning": "This is a duplicate header and will be overridden by the Authorization header generated by Postman.",
										"key": "Authorization",
										"value": "Basic YWRtaW46YWRtaW4="
									},
									{
										"key": "Accept",
										"value": "application/yang-data+json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "<input>\n\t<outformat>html</outformat>\n</input>"
								},
								"url": {
									"raw": "http://{{NSO_IP}}:{{NSO_HTTP_PORT}}/restconf/data/tailf-ncs:compliance/reports/report=DNS_Servers_Configured/run",
									"protocol": "http",
									"host": [
										"{{NSO_IP}}"
									],
									"port": "{{NSO_HTTP_PORT}}",
									"path": [
										"restconf",
										"data",
										"tailf-ncs:compliance",
										"reports",
										"report=DNS_Servers_Configured",
										"run"
									]
								}
							},
							"response": []
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "NSO Device Groups",
					"item": [
						{
							"name": "Configure Device Groups",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "30f4a864-3944-47df-82c9-f282530deeac",
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(204);",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "{{password}}",
											"type": "string"
										},
										{
											"key": "username",
											"value": "{{username}}",
											"type": "string"
										}
									]
								},
								"method": "PATCH",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/yang-data+xml"
									},
									{
										"warning": "This is a duplicate header and will be overridden by the Authorization header generated by Postman.",
										"key": "Authorization",
										"value": "Basic YWRtaW46YWRtaW4="
									},
									{
										"key": "Accept",
										"value": "application/yang-data+json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "<!--\n\nGroups are useful for organizing your devices in a way\nthat makes sense to you.\n\nDevices can be a member of more than one group,\nand device groups can be nested.\n\nCLI Equivalent\n\ndevices device-group campus-devices device-name [ ios0 nx0 ]\ntop\ndevices device-group backbone-devices device-name [ iosxr0 asa0 ]\ntop\ndevices device-group parent-group-all-devices device-group [ campus-devices backbone-devices ]\ncommit dry-run\ncommit dry-run outformat xml\ntop\n-->\n\n<devices xmlns=\"http://tail-f.com/ns/ncs\">\n               <device-group>\n                 <name>backbone-devices</name>\n                 <device-name>asa0</device-name>\n                 <device-name>iosxr0</device-name>\n               </device-group>\n               <device-group>\n                 <name>campus-devices</name>\n                 <device-name>ios0</device-name>\n                 <device-name>nx0</device-name>\n               </device-group>\n               <device-group>\n                 <name>parent-group-all-devices</name>\n                 <device-group>backbone-devices</device-group>\n                 <device-group>campus-devices</device-group>\n               </device-group>\n             </devices>\n"
								},
								"url": {
									"raw": "http://{{NSO_IP}}:{{NSO_HTTP_PORT}}/restconf/data/tailf-ncs:devices",
									"protocol": "http",
									"host": [
										"{{NSO_IP}}"
									],
									"port": "{{NSO_HTTP_PORT}}",
									"path": [
										"restconf",
										"data",
										"tailf-ncs:devices"
									]
								}
							},
							"response": []
						},
						{
							"name": "List Device Groups",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "30f4a864-3944-47df-82c9-f282530deeac",
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(204);",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "{{password}}",
											"type": "string"
										},
										{
											"key": "username",
											"value": "{{username}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/yang-data+json"
									},
									{
										"warning": "This is a duplicate header and will be overridden by the Authorization header generated by Postman.",
										"key": "Authorization",
										"value": "Basic YWRtaW46YWRtaW4="
									},
									{
										"key": "Accept",
										"value": "application/yang-data+json"
									},
									{
										"key": "",
										"value": "",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": {
									"raw": "http://{{NSO_IP}}:{{NSO_HTTP_PORT}}/restconf/data/tailf-ncs:devices/device-group",
									"protocol": "http",
									"host": [
										"{{NSO_IP}}"
									],
									"port": "{{NSO_HTTP_PORT}}",
									"path": [
										"restconf",
										"data",
										"tailf-ncs:devices",
										"device-group"
									]
								}
							},
							"response": []
						},
						{
							"name": "List Device Single Device Group Details",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "30f4a864-3944-47df-82c9-f282530deeac",
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(204);",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "{{password}}",
											"type": "string"
										},
										{
											"key": "username",
											"value": "{{username}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/yang-data+json"
									},
									{
										"key": "Authorization",
										"value": "Basic YWRtaW46YWRtaW4=",
										"warning": "This is a duplicate header and will be overridden by the Authorization header generated by Postman."
									},
									{
										"key": "Accept",
										"value": "application/yang-data+json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": {
									"raw": "http://{{NSO_IP}}:{{NSO_HTTP_PORT}}/restconf/data/tailf-ncs:devices/device-group=backbone-devices",
									"protocol": "http",
									"host": [
										"{{NSO_IP}}"
									],
									"port": "{{NSO_HTTP_PORT}}",
									"path": [
										"restconf",
										"data",
										"tailf-ncs:devices",
										"device-group=backbone-devices"
									]
								}
							},
							"response": []
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "Simple Sample SNMP Server Service",
					"item": [
						{
							"name": "Create Service Instance for Single Device",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "30f4a864-3944-47df-82c9-f282530deeac",
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(204);",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "{{password}}",
											"type": "string"
										},
										{
											"key": "username",
											"value": "{{username}}",
											"type": "string"
										}
									]
								},
								"method": "PATCH",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/yang-data+xml"
									},
									{
										"key": "Authorization",
										"value": "Basic YWRtaW46YWRtaW4=",
										"warning": "This is a duplicate header and will be overridden by the Authorization header generated by Postman."
									},
									{
										"key": "Accept",
										"value": "application/yang-data+json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "<!--\n\nCLI Equivalent\n\nadmin@ncs(config)# simple-sample-snmp-server-service first_service_instance device ios0 dummy 10.0.0.0\nadmin@ncs(config-simple-sample-snmp-server-service-first_service_instance)# commit dry-run outformat native\nnative {\n    device {\n        name ios0\n        data snmp-server host 10.0.0.0 traps NSO-COMM-STRING\n    }\n}\n-->\n             <simple-sample-snmp-server-service xmlns=\"http://com/example/simplesamplesnmpserverservice\">\n               <name>first_service_instance</name>\n               <device>ios0</device>\n               <dummy>10.0.0.0</dummy>\n             </simple-sample-snmp-server-service>"
								},
								"url": {
									"raw": "http://{{NSO_IP}}:{{NSO_HTTP_PORT}}/restconf/data/simple-sample-snmp-server-service:simple-sample-snmp-server-service/?dry-run=native",
									"protocol": "http",
									"host": [
										"{{NSO_IP}}"
									],
									"port": "{{NSO_HTTP_PORT}}",
									"path": [
										"restconf",
										"data",
										"simple-sample-snmp-server-service:simple-sample-snmp-server-service",
										""
									],
									"query": [
										{
											"key": "dry-run",
											"value": "native"
										}
									]
								},
								"description": "this will apply any configuration template based on the inputs provided. In this case it uses the \"dummy\" IP address to generate SNMP server config and then configure the device with it."
							},
							"response": []
						},
						{
							"name": "Get List of Service Instances for a Service",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "30f4a864-3944-47df-82c9-f282530deeac",
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(204);",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "{{password}}",
											"type": "string"
										},
										{
											"key": "username",
											"value": "{{username}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/yang-data+xml"
									},
									{
										"key": "Authorization",
										"value": "Basic YWRtaW46YWRtaW4=",
										"warning": "This is a duplicate header and will be overridden by the Authorization header generated by Postman."
									},
									{
										"key": "Accept",
										"value": "application/yang-data+json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": {
									"raw": "http://{{NSO_IP}}:{{NSO_HTTP_PORT}}/restconf/data/simple-sample-snmp-server-service:simple-sample-snmp-server-service",
									"protocol": "http",
									"host": [
										"{{NSO_IP}}"
									],
									"port": "{{NSO_HTTP_PORT}}",
									"path": [
										"restconf",
										"data",
										"simple-sample-snmp-server-service:simple-sample-snmp-server-service"
									]
								},
								"description": "Note: this will only have data if service instances already exist."
							},
							"response": []
						},
						{
							"name": "Update an Existing Service Instance",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "30f4a864-3944-47df-82c9-f282530deeac",
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(204);",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "{{password}}",
											"type": "string"
										},
										{
											"key": "username",
											"value": "{{username}}",
											"type": "string"
										}
									]
								},
								"method": "PATCH",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/yang-data+xml"
									},
									{
										"key": "Authorization",
										"value": "Basic YWRtaW46YWRtaW4=",
										"warning": "This is a duplicate header and will be overridden by the Authorization header generated by Postman."
									},
									{
										"key": "Accept",
										"value": "application/yang-data+json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "<!--\n\nCLI Equivalent\n\nadmin@ncs(config)# simple-sample-snmp-server-service first_service_instance device ios0 dummy 10.0.0.0\nadmin@ncs(config-simple-sample-snmp-server-service-first_service_instance)# commit dry-run outformat native\nnative {\n    device {\n        name ios0\n        data snmp-server host 10.0.0.1 traps NSO-COMM-STRING\n    }\n}\n-->\n             <simple-sample-snmp-server-service xmlns=\"http://com/example/simplesamplesnmpserverservice\">\n               <name>first_service_instance</name>\n               <device>ios0</device>\n               <dummy>10.0.0.1</dummy>\n             </simple-sample-snmp-server-service>"
								},
								"url": {
									"raw": "http://{{NSO_IP}}:{{NSO_HTTP_PORT}}/restconf/data/simple-sample-snmp-server-service:simple-sample-snmp-server-service/",
									"protocol": "http",
									"host": [
										"{{NSO_IP}}"
									],
									"port": "{{NSO_HTTP_PORT}}",
									"path": [
										"restconf",
										"data",
										"simple-sample-snmp-server-service:simple-sample-snmp-server-service",
										""
									]
								},
								"description": "This example changes the dummy IP input from 10.0.0.0 to 10.0.0.1, so the new server will be deployed to ios0"
							},
							"response": []
						}
					],
					"description": "NSO allows you to create any service, with any inputs, to enforce any config, for any devices. \n\nHere is a simple service for use on IOS devices, where the default yang input of an IP address input called \"dummy\" is used, and then a simple SNMP config is using that input to render and apply config.\n\nTo reproduce, here are the steps:\n\ncd $HOME/nso-run/packages/simple-sample-snmp-server-service/src/\nmake\ncd $HOME/nso-run/packages/simple-sample-snmp-server-service/templates/\nvim simple-sample-snmp-server-service-template.xml\n\nChange between the <config> tags to have:\n\n<config-template xmlns=\"http://tail-f.com/ns/config/1.0\"\n                 servicepoint=\"simple-sample-snmp-server-service\">\n  <devices xmlns=\"http://tail-f.com/ns/ncs\">\n    <device>\n      <!--\n          Select the devices from some data structure in the service\n          model. In this skeleton the devices are specified in a leaf-list.\n          Select all devices in that leaf-list:\n      -->\n      <name>{/device}</name>\n      <config>\n                 <snmp-server xmlns=\"urn:ios\">\n                     <host>\n\t\t\t     <ip-address>{/dummy}</ip-address>\n                       <message-type>traps</message-type>\n                       <community-string>NSO-COMM-STRING</community-string>\n                     </host>\n                   </snmp-server>\n\n      </config>\n    </device>\n  </devices>\n  \n(FYI)which is the XML equivalent of \n\tdevices device ios0 config snmp-server host 10.0.0.0 NSO-COMM-STRING\n  \nFinally, log into NSO and reload the packages:\nncs_cli -C -u admin\npackages reload\n",
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				}
			],
			"description": "note the key for show interface with 0/0 replace / with 0%2F0",
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"id": "7e39f3ed-5973-4d51-b8b4-56dc4f447a96",
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"id": "9974e4dd-02e7-46c2-85f3-13a346a247ad",
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				}
			],
			"protocolProfileBehavior": {}
		},
		{
			"name": "NSO Root of the App Hierarchy Level Queries",
			"item": [
				{
					"name": "Root Level NSO JSON Returned",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/yang-data+json",
								"type": "text"
							}
						],
						"url": {
							"raw": "http://{{NSO_IP}}:{{NSO_HTTP_PORT}}/restconf/data",
							"protocol": "http",
							"host": [
								"{{NSO_IP}}"
							],
							"port": "{{NSO_HTTP_PORT}}",
							"path": [
								"restconf",
								"data"
							]
						}
					},
					"response": []
				},
				{
					"name": "Root Level NSO XML returned",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/yang-data+xml",
								"type": "text"
							}
						],
						"url": {
							"raw": "http://localhost:8009/restconf/data",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8009",
							"path": [
								"restconf",
								"data"
							]
						}
					},
					"response": []
				}
			],
			"description": "Note: Root level queries have different headers than other queries. Return All Application and Device Config.",
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"id": "8a5ad088-3937-4264-86ad-472f9860600e",
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"id": "188a5771-439a-446d-93e4-b7228a69596b",
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				}
			],
			"protocolProfileBehavior": {}
		}
	],
	"auth": {
		"type": "basic",
		"basic": [
			{
				"key": "password",
				"value": "{{password}}",
				"type": "string"
			},
			{
				"key": "username",
				"value": "{{username}}",
				"type": "string"
			}
		]
	},
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"id": "c341ed19-456c-4575-b39e-d6e277b9fc5f",
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"id": "71ee941e-1cd7-4fdc-ab8b-9b1629f40333",
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		}
	],
	"variable": [
		{
			"id": "8731b586-ec42-4c14-80a7-d5c84963686f",
			"key": "NSO_IP",
			"value": "127.0.0.1",
			"type": "string"
		},
		{
			"id": "12202744-43f5-4f03-9838-4f47f6559f0a",
			"key": "NSO_HTTP_PORT",
			"value": "8009",
			"type": "string"
		},
		{
			"id": "d798118f-4355-4f18-ae1d-45719d9ca07c",
			"key": "username",
			"value": "admin",
			"type": "string"
		},
		{
			"id": "603682be-ede6-4792-93dc-f11815818934",
			"key": "password",
			"value": "admin",
			"type": "string"
		},
		{
			"id": "dfc11dc2-33c8-43c1-b5b9-cf163bccccdf",
			"key": "sample_ios_device",
			"value": "ios0",
			"type": "string"
		},
		{
			"id": "b8b8d9be-45b1-4f3e-bb2f-431475c916a8",
			"key": "sample_xr_device",
			"value": "iosxr0",
			"type": "string"
		},
		{
			"id": "879b81e6-647f-4487-998a-2973b45ffbf8",
			"key": "sample_junos_device",
			"value": "junos0",
			"type": "string"
		}
	],
	"protocolProfileBehavior": {}
}